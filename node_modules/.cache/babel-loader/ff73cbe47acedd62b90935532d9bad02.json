{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs2/helpers/interopRequireDefault\");\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime-corejs2/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\"));\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction execOnce(fn) {\n  var _this = this;\n\n  var used = false;\n  return function () {\n    if (!used) {\n      used = true;\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      fn.apply(_this, args);\n    }\n  };\n}\n\nexports.execOnce = execOnce;\n\nfunction getLocationOrigin() {\n  var _window$location = window.location,\n      protocol = _window$location.protocol,\n      hostname = _window$location.hostname,\n      port = _window$location.port;\n  return \"\".concat(protocol, \"//\").concat(hostname).concat(port ? ':' + port : '');\n}\n\nexports.getLocationOrigin = getLocationOrigin;\n\nfunction getURL() {\n  var href = window.location.href;\n  var origin = getLocationOrigin();\n  return href.substring(origin.length);\n}\n\nexports.getURL = getURL;\n\nfunction getDisplayName(Component) {\n  if (typeof Component === 'string') {\n    return Component;\n  }\n\n  return Component.displayName || Component.name || 'Unknown';\n}\n\nexports.getDisplayName = getDisplayName;\n\nfunction isResSent(res) {\n  return res.finished || res.headersSent;\n}\n\nexports.isResSent = isResSent;\n\nfunction loadGetInitialProps(_x, _x2) {\n  return _loadGetInitialProps.apply(this, arguments);\n}\n\nfunction _loadGetInitialProps() {\n  _loadGetInitialProps = (0, _asyncToGenerator2.default)(\n  /*#__PURE__*/\n  _regenerator.default.mark(function _callee(Component, ctx) {\n    var message, props, _message;\n\n    return _regenerator.default.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!(process.env.NODE_ENV !== 'production')) {\n              _context.next = 4;\n              break;\n            }\n\n            if (!(Component.prototype && Component.prototype.getInitialProps)) {\n              _context.next = 4;\n              break;\n            }\n\n            message = \"\\\"\".concat(getDisplayName(Component), \".getInitialProps()\\\" is defined as an instance method - visit https://err.sh/zeit/next.js/get-initial-props-as-an-instance-method for more information.\");\n            throw new Error(message);\n\n          case 4:\n            if (Component.getInitialProps) {\n              _context.next = 6;\n              break;\n            }\n\n            return _context.abrupt(\"return\", {});\n\n          case 6:\n            _context.next = 8;\n            return Component.getInitialProps(ctx);\n\n          case 8:\n            props = _context.sent;\n\n            if (!(ctx.res && isResSent(ctx.res))) {\n              _context.next = 11;\n              break;\n            }\n\n            return _context.abrupt(\"return\", props);\n\n          case 11:\n            if (props) {\n              _context.next = 14;\n              break;\n            }\n\n            _message = \"\\\"\".concat(getDisplayName(Component), \".getInitialProps()\\\" should resolve to an object. But found \\\"\").concat(props, \"\\\" instead.\");\n            throw new Error(_message);\n\n          case 14:\n            return _context.abrupt(\"return\", props);\n\n          case 15:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n  return _loadGetInitialProps.apply(this, arguments);\n}\n\nexports.loadGetInitialProps = loadGetInitialProps;","map":{"version":3,"sources":["/Users/JW/code/aps/node_modules/next-server/dist/lib/utils.js"],"names":["Object","defineProperty","exports","value","execOnce","fn","used","args","apply","getLocationOrigin","window","location","protocol","hostname","port","getURL","href","origin","substring","length","getDisplayName","Component","displayName","name","isResSent","res","finished","headersSent","loadGetInitialProps","ctx","process","env","NODE_ENV","prototype","getInitialProps","message","Error","props"],"mappings":"AAAA;;;;;;;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;;AACA,SAASC,QAAT,CAAkBC,EAAlB,EAAsB;AAAA;;AAClB,MAAIC,IAAI,GAAG,KAAX;AACA,SAAO,YAAa;AAChB,QAAI,CAACA,IAAL,EAAW;AACPA,MAAAA,IAAI,GAAG,IAAP;;AADO,wCADJC,IACI;AADJA,QAAAA,IACI;AAAA;;AAEPF,MAAAA,EAAE,CAACG,KAAH,CAAS,KAAT,EAAeD,IAAf;AACH;AACJ,GALD;AAMH;;AACDL,OAAO,CAACE,QAAR,GAAmBA,QAAnB;;AACA,SAASK,iBAAT,GAA6B;AAAA,yBACYC,MAAM,CAACC,QADnB;AAAA,MACjBC,QADiB,oBACjBA,QADiB;AAAA,MACPC,QADO,oBACPA,QADO;AAAA,MACGC,IADH,oBACGA,IADH;AAEzB,mBAAUF,QAAV,eAAuBC,QAAvB,SAAkCC,IAAI,GAAG,MAAMA,IAAT,GAAgB,EAAtD;AACH;;AACDZ,OAAO,CAACO,iBAAR,GAA4BA,iBAA5B;;AACA,SAASM,MAAT,GAAkB;AAAA,MACNC,IADM,GACGN,MAAM,CAACC,QADV,CACNK,IADM;AAEd,MAAMC,MAAM,GAAGR,iBAAiB,EAAhC;AACA,SAAOO,IAAI,CAACE,SAAL,CAAeD,MAAM,CAACE,MAAtB,CAAP;AACH;;AACDjB,OAAO,CAACa,MAAR,GAAiBA,MAAjB;;AACA,SAASK,cAAT,CAAwBC,SAAxB,EAAmC;AAC/B,MAAI,OAAOA,SAAP,KAAqB,QAAzB,EAAmC;AAC/B,WAAOA,SAAP;AACH;;AACD,SAAOA,SAAS,CAACC,WAAV,IAAyBD,SAAS,CAACE,IAAnC,IAA2C,SAAlD;AACH;;AACDrB,OAAO,CAACkB,cAAR,GAAyBA,cAAzB;;AACA,SAASI,SAAT,CAAmBC,GAAnB,EAAwB;AACpB,SAAOA,GAAG,CAACC,QAAJ,IAAgBD,GAAG,CAACE,WAA3B;AACH;;AACDzB,OAAO,CAACsB,SAAR,GAAoBA,SAApB;;SACeI,mB;;;;;;;4BAAf,iBAAmCP,SAAnC,EAA8CQ,GAA9C;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,kBACQC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YADjC;AAAA;AAAA;AAAA;;AAAA,kBAEYX,SAAS,CAACY,SAAV,IAAuBZ,SAAS,CAACY,SAAV,CAAoBC,eAFvD;AAAA;AAAA;AAAA;;AAGkBC,YAAAA,OAHlB,eAGgCf,cAAc,CAACC,SAAD,CAH9C;AAAA,kBAIkB,IAAIe,KAAJ,CAAUD,OAAV,CAJlB;;AAAA;AAAA,gBAOSd,SAAS,CAACa,eAPnB;AAAA;AAAA;AAAA;;AAAA,6CAQe,EARf;;AAAA;AAAA;AAAA,mBASwBb,SAAS,CAACa,eAAV,CAA0BL,GAA1B,CATxB;;AAAA;AASUQ,YAAAA,KATV;;AAAA,kBAUQR,GAAG,CAACJ,GAAJ,IAAWD,SAAS,CAACK,GAAG,CAACJ,GAAL,CAV5B;AAAA;AAAA;AAAA;;AAAA,6CAWeY,KAXf;;AAAA;AAAA,gBAaSA,KAbT;AAAA;AAAA;AAAA;;AAccF,YAAAA,QAdd,eAc4Bf,cAAc,CAACC,SAAD,CAd1C,2EAcoHgB,KAdpH;AAAA,kBAec,IAAID,KAAJ,CAAUD,QAAV,CAfd;;AAAA;AAAA,6CAiBWE,KAjBX;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAmBAnC,OAAO,CAAC0B,mBAAR,GAA8BA,mBAA9B","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction execOnce(fn) {\n    let used = false;\n    return (...args) => {\n        if (!used) {\n            used = true;\n            fn.apply(this, args);\n        }\n    };\n}\nexports.execOnce = execOnce;\nfunction getLocationOrigin() {\n    const { protocol, hostname, port } = window.location;\n    return `${protocol}//${hostname}${port ? ':' + port : ''}`;\n}\nexports.getLocationOrigin = getLocationOrigin;\nfunction getURL() {\n    const { href } = window.location;\n    const origin = getLocationOrigin();\n    return href.substring(origin.length);\n}\nexports.getURL = getURL;\nfunction getDisplayName(Component) {\n    if (typeof Component === 'string') {\n        return Component;\n    }\n    return Component.displayName || Component.name || 'Unknown';\n}\nexports.getDisplayName = getDisplayName;\nfunction isResSent(res) {\n    return res.finished || res.headersSent;\n}\nexports.isResSent = isResSent;\nasync function loadGetInitialProps(Component, ctx) {\n    if (process.env.NODE_ENV !== 'production') {\n        if (Component.prototype && Component.prototype.getInitialProps) {\n            const message = `\"${getDisplayName(Component)}.getInitialProps()\" is defined as an instance method - visit https://err.sh/zeit/next.js/get-initial-props-as-an-instance-method for more information.`;\n            throw new Error(message);\n        }\n    }\n    if (!Component.getInitialProps)\n        return {};\n    const props = await Component.getInitialProps(ctx);\n    if (ctx.res && isResSent(ctx.res)) {\n        return props;\n    }\n    if (!props) {\n        const message = `\"${getDisplayName(Component)}.getInitialProps()\" should resolve to an object. But found \"${props}\" instead.`;\n        throw new Error(message);\n    }\n    return props;\n}\nexports.loadGetInitialProps = loadGetInitialProps;\n"]},"metadata":{},"sourceType":"script"}